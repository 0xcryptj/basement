<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tokenomics - The Basement</title>
    <link rel="icon" type="image/x-icon" href="assets/icon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .tokenomics-container {
            max-width: 1400px;
            margin: 80px auto 40px;
            padding: 2rem;
        }

        /* Mobile responsive improvements */
        @media (max-width: 768px) {
            .tokenomics-container {
                padding: 1rem;
                margin-top: 70px;
            }

            .token-title {
                font-size: 1.2rem;
            }

            .contract-address {
                font-size: 0.5rem;
                padding: 0.5rem 1rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .stat-title {
                font-size: 0.7rem;
            }

            .stat-value {
                font-size: 1.3rem;
            }

            .terminal-row {
                font-size: 0.65rem;
            }

            .dex-link {
                font-size: 0.6rem;
                padding: 0.6rem 1rem;
            }

            .section-title {
                font-size: 1rem;
            }

            .feature-title {
                font-size: 0.75rem;
            }

            .feature-description {
                font-size: 0.65rem;
            }
        }

        .token-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .token-title {
            font-size: 2rem;
            color: #0052ff;
            text-shadow: 0 0 20px #0052ff99;
            margin-bottom: 1rem;
        }

        .contract-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .contract-label {
            font-size: 0.7rem;
            color: #00BFFF;
        }

        .contract-address {
            background: rgba(0, 82, 255, 0.1);
            border: 2px solid #0052ff99;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-size: 0.7rem;
            color: #00FF88;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 0 10px rgba(0, 82, 255, 0.3);
        }

        .contract-address:hover {
            background: rgba(0, 82, 255, 0.3);
            box-shadow: 0 0 20px rgba(0, 82, 255, 0.6);
            transform: translateY(-2px);
        }

        .token-price {
            background: rgba(0, 255, 136, 0.1);
            border: 2px solid #00FF88;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            color: #00FF88;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }

        .price-label {
            font-size: 0.6rem;
            color: rgba(255, 255, 255, 0.6);
            margin-right: 0.5rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border: 2px solid #0052ff99;
            border-radius: 8px;
            padding: 2rem;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #00BFFF;
            box-shadow: 0 0 20px rgba(0, 82, 255, 0.4);
            transform: translateY(-5px);
        }

        .stat-title {
            font-size: 0.8rem;
            color: #0052ff;
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            font-family: 'Press Start 2P', monospace;
        }

        .stat-value {
            font-size: 1.8rem;
            color: #00FF88;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
            margin-bottom: 0.75rem;
            font-family: 'Press Start 2P', monospace;
        }

        .stat-description {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
            font-family: 'Courier New', monospace;
        }

        .feature-section {
            margin: 4rem 0;
        }

        .section-title {
            font-size: 1.2rem;
            color: #0052ff;
            text-shadow: 0 0 15px #0052ff99;
            margin-bottom: 2rem;
            text-align: center;
        }

        .features-list {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border: 2px solid #0052ff99;
            border-radius: 8px;
            padding: 2rem;
        }

        .feature-item {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(0, 82, 255, 0.3);
            transition: all 0.3s ease;
        }

        .feature-item:last-child {
            border-bottom: none;
        }

        .feature-item:hover {
            background: rgba(0, 82, 255, 0.1);
            padding-left: 2rem;
        }

        .feature-title {
            font-size: 0.9rem;
            color: #00BFFF;
            margin-bottom: 0.75rem;
            font-family: 'Press Start 2P', monospace;
        }

        .feature-description {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 2;
            font-family: 'Courier New', monospace;
        }

        .allocation-chart {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border: 2px solid #0052ff99;
            border-radius: 8px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .allocation-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid rgba(0, 82, 255, 0.2);
        }

        .allocation-item:last-child {
            border-bottom: none;
        }

        .allocation-label {
            font-size: 0.8rem;
            color: #00BFFF;
            font-family: 'Courier New', monospace;
        }

        .allocation-value {
            font-size: 0.9rem;
            color: #00FF88;
            font-weight: bold;
            font-family: 'Press Start 2P', monospace;
        }

        /* Price Terminal */
        .price-terminal {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(15px);
            border: 2px solid #0052ff99;
            border-radius: 8px;
            padding: 2rem;
            margin: 3rem 0;
            font-family: 'Courier New', monospace;
        }

        .terminal-header {
            font-size: 0.8rem;
            color: #00BFFF;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(0, 82, 255, 0.3);
        }

        .terminal-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            font-size: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .terminal-label {
            color: rgba(255, 255, 255, 0.6);
        }

        .terminal-value {
            color: #00FF88;
            font-weight: bold;
        }

        .terminal-value.positive {
            color: #00FF88;
        }

        .terminal-value.negative {
            color: #FF4444;
        }

        .dex-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .dex-link {
            background: rgba(0, 82, 255, 0.1);
            border: 1px solid #0052ff99;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            text-decoration: none;
            color: #00BFFF;
            font-size: 0.7rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .dex-link:hover {
            background: rgba(0, 82, 255, 0.3);
            box-shadow: 0 0 15px rgba(0, 82, 255, 0.5);
            transform: translateY(-2px);
        }

        .allocation-bar {
            flex: 1;
            height: 20px;
            background: rgba(0, 82, 255, 0.2);
            border-radius: 10px;
            margin: 0 1rem;
            overflow: hidden;
        }

        .allocation-fill {
            height: 100%;
            background: linear-gradient(90deg, #0052ff99, #00BFFF);
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-content">
            <!-- Left Logo -->
            <div class="logo">
                <a href="index.html" class="logo-link">
                    <img src="assets/tsvg.svg" alt="Logo" class="main-logo">
                    <span class="logo-text">The Basement</span>
                </a>
            </div>
            
            <!-- Center Navigation -->
            <div class="nav-links">
                <a href="arcade/arcade.html" class="nav-link">Arcade</a>
                <a href="tokenomics.html" class="nav-link active">Tokenomics</a>
                <a href="index.html#shop" class="nav-link">Shop</a>
                <a href="index.html#forum" class="nav-link">Forum</a>
            </div>
            
            <!-- Right Wallet Connect -->
            <div class="wallet-section">
                <div class="wallet-dropdown">
                    <button id="connect-wallet" class="connect-btn">
                        <span class="btn-text">Connect Wallet</span>
                        <span class="dropdown-arrow">▼</span>
                    </button>
                    <div id="wallet-options" class="wallet-options">
                        <button class="wallet-option" data-wallet="base">Base Wallet</button>
                        <button class="wallet-option" data-wallet="phantom">Phantom</button>
                        <button class="wallet-option" data-wallet="metamask">MetaMask</button>
                    </div>
                </div>
                <div id="wallet-info" class="wallet-info">
                    <div class="user-profile">
                        <div class="profile-pic-container" id="profile-pic-container">
                            <img id="profile-pic" class="profile-pic" src="" alt="Profile" style="display: none;">
                            <div id="profile-pic-placeholder" class="profile-pic-placeholder">●</div>
                        </div>
                        <div class="user-details">
                            <span id="wallet-address" class="wallet-address"></span>
                        </div>
                    </div>
                    <button id="disconnect-wallet" class="disconnect-btn">Disconnect Wallet</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="tokenomics-container">
        <div class="token-header">
            <h1 class="token-title neon">💎 $BASEMENT TOKENOMICS 💎</h1>
            <p style="font-size: 0.8rem; color: #00BFFF; margin-bottom: 1.5rem;">
                Creator Coin on Zora • Base Network
            </p>
            
            <div class="contract-info">
                <span class="contract-label">Contract:</span>
                <a href="https://basescan.org/token/0xcf4abb42b4b47eb242eabab5c9a9913bcad9ca23" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   class="contract-address"
                   id="contract-link">
                    <span id="ticker-text">0xcf4a...ca23</span>
                    <span style="font-size: 0.5rem;">↗</span>
                </a>
                
                <div class="token-price">
                    <span class="price-label">Price:</span>
                    <span id="token-price">Loading...</span>
                </div>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-title">Total Supply</div>
                <div class="stat-value" id="total-supply">Loading...</div>
                <div class="stat-description">Fixed supply on Base</div>
            </div>

            <div class="stat-card">
                <div class="stat-title">Circulating</div>
                <div class="stat-value" id="circulating-supply">Loading...</div>
                <div class="stat-description">Currently in circulation</div>
            </div>

            <div class="stat-card">
                <div class="stat-title">Market Cap</div>
                <div class="stat-value" id="market-cap">Loading...</div>
                <div class="stat-description">Total market value</div>
            </div>

            <div class="stat-card" style="border: 2px solid #ff4444; background: rgba(255, 68, 68, 0.05);">
                <div class="stat-title" style="color: #ff4444;">🔥 Tokens Burned</div>
                <div class="stat-value" id="tokens-burned" style="color: #ff4444;">0</div>
                <div class="stat-description">5 tokens per channel = scarcity</div>
            </div>
        </div>

        <!-- Price Terminal -->
        <div class="price-terminal">
            <div class="terminal-header">📊 LIVE MARKET DATA</div>
            
            <div class="terminal-row">
                <span class="terminal-label">Price USD:</span>
                <span class="terminal-value" id="terminal-price">$0.0000</span>
            </div>
            
            <div class="terminal-row">
                <span class="terminal-label">24h Change:</span>
                <span class="terminal-value" id="terminal-change">0.00%</span>
            </div>
            
            <div class="terminal-row">
                <span class="terminal-label">24h Volume:</span>
                <span class="terminal-value" id="terminal-volume">$0</span>
            </div>
            
            <div class="terminal-row">
                <span class="terminal-label">Liquidity:</span>
                <span class="terminal-value" id="terminal-liquidity">$0</span>
            </div>
            
            <div class="terminal-row">
                <span class="terminal-label">FDV:</span>
                <span class="terminal-value" id="terminal-fdv">$0</span>
            </div>
            
            <div class="dex-links">
                <a href="https://dexscreener.com/base/0xc5052d8910046279fd6633b288234c2366b019f9d372d75a08d8fe01c601a6b9" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   class="dex-link">
                    📈 DexScreener
                </a>
                <a href="https://www.geckoterminal.com/base/pools/0xc5052d8910046279fd6633b288234c2366b019f9d372d75a08d8fe01c601a6b9" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   class="dex-link">
                    🦎 GeckoTerminal
                </a>
                <a href="https://iframe.bubblemaps.io/map?partnerId=MEPFzGONpHyRb7DIadtA&address=0xcf4abb42b4b47eb242eabab5c9a9913bcad9ca23&chain=base&limit=80" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   class="dex-link">
                    🫧 BubbleMaps
                </a>
                <a href="https://zora.co" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   class="dex-link">
                    ⚡ Zora
                </a>
            </div>
        </div>

        <!-- Chart Embed -->
        <div class="feature-section">
            <h2 class="section-title">📊 Live Price Chart</h2>
            
            <!-- DexScreener Embed -->
            <div class="allocation-chart" style="padding: 0; overflow: hidden; height: 500px; border-radius: 12px;">
                <iframe 
                    src="https://dexscreener.com/base/0xc5052d8910046279fd6633b288234c2366b019f9d372d75a08d8fe01c601a6b9?embed=1&theme=dark&trades=0&info=0"
                    style="width: 100%; height: 100%; border: none; border-radius: 12px;"
                    title="DexScreener Chart"
                ></iframe>
            </div>
        </div>

        <!-- Token Distribution -->
        <div class="feature-section">
            <h2 class="section-title">📊 Token Distribution</h2>
            <div class="allocation-chart">
                <div class="allocation-item">
                    <span class="allocation-label">Liquidity Pool (Locked)</span>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 40%"></div>
                    </div>
                    <span class="allocation-value">40%</span>
                </div>
                <div class="allocation-item">
                    <span class="allocation-label">Treasury (36mo vest)</span>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 20%"></div>
                    </div>
                    <span class="allocation-value">20%</span>
                </div>
                <div class="allocation-item">
                    <span class="allocation-label">Community Rewards (24mo)</span>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 15%"></div>
                    </div>
                    <span class="allocation-value">15%</span>
                </div>
                <div class="allocation-item">
                    <span class="allocation-label">Team/Advisors (12mo cliff)</span>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 10%"></div>
                    </div>
                    <span class="allocation-value">10%</span>
                </div>
                <div class="allocation-item">
                    <span class="allocation-label">Development (6mo cliff)</span>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 10%"></div>
                    </div>
                    <span class="allocation-value">10%</span>
                </div>
                <div class="allocation-item">
                    <span class="allocation-label">Marketing/Partnerships</span>
                    <div class="allocation-bar">
                        <div class="allocation-fill" style="width: 5%"></div>
                    </div>
                    <span class="allocation-value">5%</span>
                </div>
            </div>
        </div>

        <!-- Utility & Features -->
        <div class="feature-section">
            <h2 class="section-title">⚡ Utility & Features</h2>
            <div class="features-list">
                <div class="feature-item">
                    <div class="feature-title">🔥 Deflationary Burn Mechanism</div>
                    <div class="feature-description">
                        Creating an IRC channel BURNS 5 $BASEMENT tokens permanently, sending them to the dead address. This creates scarcity and increases value for all holders.
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">💬 IRC & Forum Access</div>
                    <div class="feature-description">
                        Must hold at least 0.001 $BASEMENT tokens to post messages and create threads. 5 tokens are BURNED when creating new channels.
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">🏆 Exclusive Community</div>
                    <div class="feature-description">
                        Token holders gain access to special channels, early feature access, and community governance. Your tokens = your voice.
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">🎁 Staking Rewards</div>
                    <div class="feature-description">
                        Stake $BASEMENT to earn passive income. APY varies based on platform revenue and staking duration.
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">🛍️ Marketplace Benefits</div>
                    <div class="feature-description">
                        Get discounts on NFTs and digital goods in the shop. Exclusive items available only to token holders.
                    </div>
                </div>
            </div>
        </div>

        <!-- Deflationary Mechanics -->
        <div class="feature-section">
            <h2 class="section-title">🔥 Deflationary Mechanics</h2>
            <div class="features-list">
                <div class="feature-item">
                    <div class="feature-title">🔥 Channel Creation Burns</div>
                    <div class="feature-description">
                        Every IRC channel created BURNS 5 $BASEMENT tokens permanently by sending them to the dead address (0x...dEaD). This creates real scarcity and deflationary pressure.
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">📉 Automatic Supply Reduction</div>
                    <div class="feature-description">
                        As users create more channels, the circulating supply decreases. More platform usage = more tokens burned = higher value for holders.
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">💎 Permanent Burn Address</div>
                    <div class="feature-description">
                        All burned tokens go to 0x000000000000000000000000000000000000dEaD and can NEVER be recovered. Fully transparent and verifiable on BaseScan.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="site-footer" style="position: relative; margin-top: 4rem; padding: 2rem; background: rgba(0, 0, 0, 0.95); border-top: 1px solid rgba(0, 82, 255, 0.3);">
        <div class="footer-content">
            <div class="footer-left">
                <p class="footer-text">The Basement • Base Network • Zora Creator Coin</p>
            </div>
            <div class="footer-right">
                <div class="social-links">
                    <a href="https://x.com/joseph1133287" target="_blank" rel="noopener noreferrer" class="social-link" title="Follow on X" style="display: inline-flex; opacity: 0.8; transition: all 0.3s;">
                        <img src="assets/x.svg" alt="X (Twitter)" style="width: 32px; height: 32px; filter: invert(1) drop-shadow(0 0 5px rgba(0, 191, 255, 0.6));">
                    </a>
                    <a href="https://zora.co/@0xbasement" target="_blank" rel="noopener noreferrer" class="social-link" title="View on Zora" style="display: inline-flex; opacity: 0.8; transition: all 0.3s;">
                        <img src="assets/zorb.svg" alt="Zora" style="width: 32px; height: 32px; filter: invert(1) drop-shadow(0 0 5px rgba(0, 191, 255, 0.6));">
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="security.js"></script>
    <script src="script.js"></script>
    <script>
        // Configuration - Basement Token on Base (Zora Creator Coin)
        const TOKEN_ADDRESS = "0xcf4abb42b4b47eb242eabab5c9a9913bcad9ca23";
        const PAIR_ADDRESS = "0xc5052d8910046279fd6633b288234c2366b019f9d372d75a08d8fe01c601a6b9";
        
        // Fetch REAL token data from on-chain and DexScreener
        async function fetchTokenData() {
            try {
                // Fetch from our API that gets real on-chain data
                const apiResponse = await fetch('/api/token/info');
                
                if (apiResponse.ok) {
                    const tokenInfo = await apiResponse.json();
                    
                    // Update contract info
                    document.getElementById('contract-link').href = 
                        `https://basescan.org/token/${TOKEN_ADDRESS}`;
                    
                    // Update total supply from on-chain data
                    document.getElementById('total-supply').textContent = 
                        formatNumber(tokenInfo.contract.totalSupplyFormatted);
                    
                    // If market data is available
                    if (tokenInfo.market) {
                        const market = tokenInfo.market;
                        
                        // Update header price
                        document.getElementById('token-price').textContent = 
                            `$${parseFloat(market.price).toFixed(8)}`;
                        
                        // Update terminal data
                        document.getElementById('terminal-price').textContent = 
                            `$${parseFloat(market.price).toFixed(8)}`;
                        
                        const change24h = parseFloat(market.priceChange24h || 0);
                        const changeEl = document.getElementById('terminal-change');
                        changeEl.textContent = `${change24h > 0 ? '+' : ''}${change24h.toFixed(2)}%`;
                        changeEl.className = `terminal-value ${change24h >= 0 ? 'positive' : 'negative'}`;
                        
                        document.getElementById('terminal-volume').textContent = 
                            `$${formatNumber(market.volume24h)}`;
                        
                        document.getElementById('terminal-liquidity').textContent = 
                            `$${formatNumber(market.liquidity)}`;
                        
                        document.getElementById('terminal-fdv').textContent = 
                            `$${formatNumber(market.fdv)}`;
                        
                        // Update market cap
                        document.getElementById('market-cap').textContent = 
                            `$${formatNumber(market.marketCap)}`;
                        
                        // Update circulating supply
                        document.getElementById('circulating-supply').textContent = 
                            formatNumber(market.circulatingSupply);
                    } else {
                        // No market data yet
                        document.getElementById('token-price').textContent = "Pre-Market";
                        document.getElementById('terminal-price').textContent = "Not Trading Yet";
                        document.getElementById('terminal-change').textContent = "N/A";
                        document.getElementById('terminal-volume').textContent = "$0";
                        document.getElementById('terminal-liquidity').textContent = "$0";
                        document.getElementById('terminal-fdv').textContent = "N/A";
                        document.getElementById('circulating-supply').textContent = 
                            formatNumber(tokenInfo.contract.totalSupplyFormatted);
                        document.getElementById('market-cap').textContent = "N/A";
                    }
                    
                    // Update burn info
                    if (tokenInfo.burns) {
                        document.getElementById('tokens-burned').textContent = 
                            tokenInfo.burns.channelCreation + ' per channel';
                    }
                    
                    return;
                }
                
                // Fallback: Show placeholder
                document.getElementById('token-price').textContent = "Loading...";
                document.getElementById('terminal-price').textContent = "Fetching...";
                document.getElementById('total-supply').textContent = "Loading...";
                
            } catch (error) {
                console.error('Error fetching token data:', error);
                document.getElementById('token-price').textContent = "Error";
                document.getElementById('terminal-price').textContent = "Error loading data";
            }
        }
        
        // Helper function to format large numbers
        function formatNumber(num) {
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return num.toString();
        }

        // Load token data on page load
        fetchTokenData();
        
        // Refresh every 30 seconds
        setInterval(fetchTokenData, 30000);
    </script>
</body>
</html>

